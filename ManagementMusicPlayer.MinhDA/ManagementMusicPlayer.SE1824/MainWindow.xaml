<Window x:Class="ManagementMusicPlayer.SE1824.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ManagementMusicPlayer.SE1824"
        mc:Ignorable="d"
        Title="Hệ Thống Quản Lý Máy Nghe Nhạc" 
        Height="700" Width="1000"
        WindowStartupLocation="CenterScreen"
        MinHeight="600" MinWidth="900"
        FontFamily="Segoe UI" Loaded="Window_Loaded">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="60"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="30"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" BorderBrush="{StaticResource SecondaryColor}" BorderThickness="0,0,0,1" Padding="20,0">
            <Grid>
                <TextBlock Text="Management Music Player" 
                           FontSize="20" 
                           FontWeight="Bold" 
                           VerticalAlignment="Center" 
                           Foreground="{StaticResource PrimaryColor}"/>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                    <TextBlock x:Name="txtCurrentUserRole" 
                               Text="Xin chào, [Vai trò]!" 
                               VerticalAlignment="Center" 
                               Margin="0,0,15,0" 
                               Foreground="#666666"/>

                    <Button x:Name="LogoutButton" 
                            Content="Logout" 
                            Style="{StaticResource LogoutButton}"
                            Width="66"/>
                </StackPanel>
            </Grid>
        </Border>

        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="20,15,20,15">

            <TextBox x:Name="txtSearchName" 
                     Width="200" 
                     Tag="Tìm theo Tên Máy..."
                     Margin="0,0,10,0"/>

            <ComboBox x:Name="cmbSearchCategory" 
                      Width="150" 
                      Tag="Chọn Loại Máy"
                      Margin="0,0,10,0"/>

            <ComboBox x:Name="cmbSearchCompany" 
                      Width="150" 
                      Tag="Chọn Hãng Sản Xuất"
                      Margin="0,0,10,0"/>

            <Button x:Name="btnSearch" 
                    Content="Search" 
                    Style="{StaticResource SearchButton}"
                    Margin="0,0,20,0" Width="66"/>

            <Button x:Name="btnCreate" 
                    Content="CREATE" 
                    Style="{StaticResource PrimaryButtonCRUD}" 
                    Margin="0,0,10,0" Click="btnCreate_Click"/>

            <Button x:Name="btnUpdate" 
                    Content="UPDATE" 
                    Style="{StaticResource PrimaryButtonCRUD}" 
                    Margin="0,0,10,0" Click="btnUpdate_Click"/>

            <Button x:Name="btnRemove" 
                    Content="REMOVE" 
                    Style="{StaticResource DangerButtonCRUD}" 
                    Margin="0,0,10,0"/>

        </StackPanel>

        <DataGrid Grid.Row="2"
                  x:Name="dgMusicPlayers"
                  Margin="20,0,20,10"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  SelectionMode="Single"
                  Style="{StaticResource TrendyDataGrid}">

            <DataGrid.Columns>
                <DataGridTextColumn Header="Mã Máy" Binding="{Binding Id}" Width="70"/>

                <DataGridTextColumn Header="Tên Máy" Binding="{Binding PlayerName}" Width="200"/>

                <DataGridTextColumn Header="Loại Máy" Binding="{Binding Category}" Width="120"/>

                <DataGridTextColumn Header="Giá Tiền" Binding="{Binding Price, StringFormat={}{0:N0} VNĐ}" Width="120"/>

                <DataGridTextColumn Header="Số Lượng" Binding="{Binding Quantity}" Width="120"/>

                <DataGridTextColumn Header="Ngày SX" Binding="{Binding PublishDate, StringFormat={}{0:dd/MM/yyyy}}" Width="120"/>

                <DataGridTextColumn Header="Hãng Sản Xuất" Binding="{Binding Company.CompanyName}" Width="150"/>
            </DataGrid.Columns>

        </DataGrid>

        <TextBlock Grid.Row="3" 
                   Text="© 2025 Quản Lý Máy Nghe Nhạc" 
                   FontSize="10" 
                   Foreground="#999999" 
                   HorizontalAlignment="Right" 
                   Margin="20,0"/>

    </Grid>
</Window>
