<Window x:Class="ManagementMusicPlayer.SE1824.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ManagementMusicPlayer.SE1824"
        mc:Ignorable="d"
        Title="Hệ Thống Quản Lý Máy Nghe Nhạc" 
        Height="700" Width="1000"
        WindowStartupLocation="CenterScreen"
        MinHeight="600" MinWidth="900"
        FontFamily="Segoe UI" Loaded="Window_Loaded"
        Background="LightYellow"
        Icon="/Assets/logo-app-player-mp3.png">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="60"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="30"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" BorderBrush="{StaticResource SecondaryColor}" BorderThickness="0,0,0,1" Padding="20,0">
            <Grid>
                <TextBlock Text="Management Music Player" 
                           FontSize="20" 
                           FontWeight="Bold" 
                           VerticalAlignment="Center" 
                           Foreground="{StaticResource PrimaryColor}"/>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                    <TextBlock x:Name="txtCurrentUserRole" 
                               Text="Xin chào, [Vai trò]!" 
                               VerticalAlignment="Center" 
                               Margin="0,0,15,0" 
                               Foreground="#666666"/>

                    <Button x:Name="LogoutButton" 
                            Content="Logout" 
                            Style="{StaticResource LogoutButton}"
                            Width="66"/>
                </StackPanel>
            </Grid>
        </Border>

        <TabControl Grid.Row="1" Margin="20,10" x:Name="MainTabControl" 
                    SelectionChanged="MainTabControl_SelectionChanged"
                    FontFamily="Segoe UI">

            <TabItem Header="Quản Lý Music Player" x:Name="TabMusicPlayer" Height="30" Width="150">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,5,0,15">
                        <TextBox x:Name="txtSearchName" 
                                 Width="200" 
                                 Tag="Tìm theo Tên Máy..."
                                 Margin="0,0,10,0"/>
                        <ComboBox x:Name="cmbSearchCategory" 
                                  Width="150" 
                                  Tag="Chọn Loại Máy"
                                  Margin="0,0,10,0"/>
                        <ComboBox x:Name="cmbSearchCompany" 
                                  Width="150" 
                                  Tag="Chọn Hãng Sản Xuất"
                                  Margin="0,0,10,0"/>
                        <Button x:Name="btnSearch" 
                                Content="Search" 
                                Style="{StaticResource SearchButton}"
                                Margin="0,0,20,0" Width="66"
                                Click="btnSearch_Click"/>
                        <Button x:Name="btnCreate" 
                                Content="CREATE" 
                                Style="{StaticResource PrimaryButtonCRUD}" 
                                Margin="0,0,10,0" Click="btnCreate_Click"/>
                        <Button x:Name="btnUpdate" 
                                Content="UPDATE" 
                                Style="{StaticResource PrimaryButtonCRUD}" 
                                Margin="0,0,10,0" 
                                Click="btnUpdate_Click"/>
                        <Button x:Name="btnRemove" 
                                Content="REMOVE" 
                                Style="{StaticResource DangerButtonCRUD}" 
                                Margin="0,0,10,0" Click="btnRemove_Click"/>
                    </StackPanel>

                    <DataGrid Grid.Row="1"
                              x:Name="dgMusicPlayers"
                              Margin="0,0,0,0"
                              AutoGenerateColumns="False"
                              IsReadOnly="True"
                              SelectionMode="Single"
                              Style="{StaticResource TrendyDataGrid}">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Mã Máy" Binding="{Binding PlayerId}" Width="80"/>
                            <DataGridTextColumn Header="Tên Máy" Binding="{Binding PlayerName}" Width="150">
                                <DataGridTextColumn.CellStyle>
                                    <Style TargetType="DataGridCell">
                                        <Setter Property="HorizontalAlignment" Value="Left"/>
                                        <Setter Property="FontWeight" Value="DemiBold"/>
                                    </Style>
                                </DataGridTextColumn.CellStyle>
                            </DataGridTextColumn>
                            <DataGridTextColumn Header="Loại Máy" Binding="{Binding Category.CategoryName}" Width="200"/>
                            <DataGridTextColumn Header="Giá Tiền" Binding="{Binding Price, StringFormat={}{0:N0} VNĐ}" Width="100" >
                                <DataGridTextColumn.CellStyle>
                                    <Style TargetType="DataGridCell">
                                        <Setter Property="HorizontalAlignment" Value="Left"/>
                                    </Style>
                                </DataGridTextColumn.CellStyle>
                                <DataGridTextColumn.HeaderStyle>
                                    <Style TargetType="DataGridColumnHeader">
                                        <Setter Property="Background" Value="#F0F0F0"/>
                                        <Setter Property="Foreground" Value="{StaticResource TextColor}"/>
                                        <Setter Property="FontWeight" Value="SemiBold"/>
                                        <Setter Property="Height" Value="40"/>
                                        <Setter Property="BorderThickness" Value="0,0,0,2"/>
                                        <Setter Property="BorderBrush" Value="{StaticResource PrimaryColor}"/>
                                        <Setter Property="Padding" Value="0,0,0,0"/>
                                        <Setter Property="HorizontalContentAlignment" Value="Left"/>
                                    </Style>
                                </DataGridTextColumn.HeaderStyle>
                            </DataGridTextColumn>
                            <DataGridTextColumn Header="Số Lượng" Binding="{Binding Quantity}" Width="120"/>
                            <DataGridTextColumn Header="Ngày SX" Binding="{Binding PublishDate, StringFormat={}{0:dd/MM/yyyy}}" Width="120"/>
                            <DataGridTextColumn Header="Hãng Sản Xuất" Binding="{Binding Company.CompanyName}" Width="150"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <TabItem Header="Quản Lý Account" x:Name="TabAccount" Height="30" Width="120">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="145*"/>
                        <ColumnDefinition Width="39*"/>
                        <ColumnDefinition Width="293*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,5,0,15" Grid.ColumnSpan="3">
                        <TextBox x:Name="txtSearchAccount" 
                                 Width="250" 
                                 Tag="Tìm theo Email/Vai trò..."
                                 Margin="0,0,10,0"/>
                        <Button x:Name="btnSearchAccount" 
                                Content="Search" 
                                Style="{StaticResource SearchButton}"
                                Margin="0,0,20,0" Width="66" Click="BtnSearchAccount_Click"/>
                        <Button x:Name="btnCreateAccount" 
                                Content="CREATE" 
                                Style="{StaticResource PrimaryButtonCRUD}" 
                                Margin="250,0,10,0" Click="BtnCreateAccount_Click"/>
                        <Button x:Name="btnUpdateAccount" 
                                Content="UPDATE" 
                                Style="{StaticResource PrimaryButtonCRUD}" 
                                Margin="0,0,10,0" Click="BtnUpdateAccount_Click"/>
                        <Button x:Name="btnRemoveAccount" 
                                Content="REMOVE" 
                                Style="{StaticResource DangerButtonCRUD}" Click="BtnRemoveAccount_Click"/>
                    </StackPanel>

                    <DataGrid Grid.Row="1" x:Name="dgAccounts"
                              AutoGenerateColumns="False"
                              IsReadOnly="True"
                              SelectionMode="Single"
                              Style="{StaticResource TrendyDataGrid}" Grid.ColumnSpan="3">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="80"/>
                            <DataGridTextColumn Header="User Name" Binding="{Binding FullName}" Width="200">
                                <DataGridTextColumn.CellStyle>
                                    <Style TargetType="DataGridCell">
                                        <Setter Property="HorizontalAlignment" Value="Left"/>
                                        <Setter Property="FontWeight" Value="DemiBold"/>
                                    </Style>
                                </DataGridTextColumn.CellStyle>
                            </DataGridTextColumn>
                            <DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="200">
                                <DataGridTextColumn.CellStyle>
                                    <Style TargetType="DataGridCell">
                                        <Setter Property="HorizontalAlignment" Value="Left"/>
                                    </Style>
                                </DataGridTextColumn.CellStyle>
                            </DataGridTextColumn>
                            <DataGridTextColumn Header="Password" Binding="{Binding Password}" Width="150"/>
                            <DataGridTextColumn Header="Role" Binding="{Binding RoleId}" Width="150"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <TabItem Header="Quản Lý Hãng Sản Xuất" x:Name="TabCompany" Height="30" Width="150">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,5,0,15">
                        <TextBox x:Name="txtSearchCompanyBase" 
                                 Width="250" 
                                 Tag="Tìm theo Tên Hãng..."
                                 Margin="0,0,10,0"/>
                        <Button x:Name="btnSearchCompany" 
                                Content="Search" 
                                Style="{StaticResource SearchButton}"
                                Margin="0,0,20,0" Width="66" Click="BtnSearchCompany_Click"/>
                        <Button x:Name="btnCreateCompany" 
                                Content="CREATE" 
                                Style="{StaticResource PrimaryButtonCRUD}" 
                                Margin="250,0,10,0" Click="BtnCreateCompany_Click"/>
                        <Button x:Name="btnUpdateCompany" 
                                Content="UPDATE" 
                                Style="{StaticResource PrimaryButtonCRUD}" 
                                Margin="0,0,10,0" Click="BtnUpdateCompany_Click"/>
                        <Button x:Name="btnRemoveCompany" 
                                Content="REMOVE" 
                                Style="{StaticResource DangerButtonCRUD}" 
                                Margin="0,0,10,0" Click="BtnRemoveCompany_Click"/>
                    </StackPanel>

                    <DataGrid Grid.Row="1" x:Name="dgCompanies"
                              Margin="0,0,0,0"
                              AutoGenerateColumns="False"
                              IsReadOnly="True"
                              SelectionMode="Single"
                              Style="{StaticResource TrendyDataGrid}">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Mã Hãng" Binding="{Binding CompanyId}" Width="100"/>
                            <DataGridTextColumn Header="Tên Hãng" Binding="{Binding CompanyName}" Width="300"/>
                            <DataGridCheckBoxColumn Header="Trạng  thái hoạt động" Binding="{Binding Status}" IsReadOnly="True" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <TabItem Header="Quản Lý Loại Máy" x:Name="TabCategory" Height="30" Width="120">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,5,0,15">
                        <TextBox x:Name="txtSearchCategoryBase" 
                                 Width="250" 
                                 Tag="Tìm theo Tên Loại Máy..."
                                 Margin="0,0,10,0"/>
                        <Button x:Name="btnSearchCategory" 
                                Content="Search" 
                                Style="{StaticResource SearchButton}"
                                Margin="0,0,20,0" Width="66" Click="BtnSearchCategory_Click"/>
                        <Button x:Name="btnCreateCategory" 
                                Content="CREATE" 
                                Style="{StaticResource PrimaryButtonCRUD}" 
                                Margin="250,0,10,0" Click="BtnCreateCategory_Click"/>
                        <Button x:Name="btnUpdateCategory" 
                                Content="UPDATE" 
                                Style="{StaticResource PrimaryButtonCRUD}" 
                                Margin="0,0,10,0" Click="BtnUpdateCategory_Click"/>
                        <Button x:Name="btnRemoveCategory" 
                                Content="REMOVE" 
                                Style="{StaticResource DangerButtonCRUD}" 
                                Margin="0,0,10,0" Click="BtnRemoveCategory_Click"/>
                    </StackPanel>

                    <DataGrid Grid.Row="1" x:Name="dgCategories"
                              Margin="0,0,0,0"
                              AutoGenerateColumns="False"
                              IsReadOnly="True"
                              SelectionMode="Single"
                              Style="{StaticResource TrendyDataGrid}">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding CategoryId}" Width="80"/>
                            <DataGridTextColumn Header="Category" Binding="{Binding CategoryName}" Width="200"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

        </TabControl>

        <TextBlock Grid.Row="3" 
                   Text="© 2025 Quản Lý Máy Nghe Nhạc" 
                   FontSize="10" 
                   Foreground="#999999" 
                   HorizontalAlignment="Right" 
                   Margin="20,0"/>

    </Grid>
</Window>
